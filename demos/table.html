
<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="Expires" content="0">
	<meta http-equiv="kiben" content="no-cache">
	<title>表格</title>
	<link rel="stylesheet" href="../WEB-INF/static/lib/bootstrap-qy-3.3.7/css/bootstrap.css" />
	<link rel="stylesheet" href="../WEB-INF/static/lib/bootstrap-qy-3.3.7/css/iconfont.css" />
	<link rel="stylesheet" href="../WEB-INF/static/css/pc/qy.css" />
	
	<script src="../WEB-INF/static/lib/jquery-3.2.1.js"></script>
	<script src="../WEB-INF/static/lib/underscore.js"></script>
	<script src="../WEB-INF/static/lib/bootstrap-3.3.7/js/bootstrap.js"></script>
	<script src="../WEB-INF/static/js/pc/common.js"></script>
	<script src="../WEB-INF/static/js/pc/plugin.js"></script>
</head>

<body>
	<div class='qy-list-table'>
		<table class="table"></table>
	</div>
	
	<div class="qy-list-pagination">
		<ul class="pagination"></ul>
	</div>	
	<script>
		(function pageScript () {
			var columns = [{
				title: '管理目录',
				content: 'key1'
			}, {
				title: '管理项目',
				content: 'key2'
			}, {
				title: '补充说明',
				content: 'key3'
			}, {
				title: '负责人',
				content: 'key4'
			}, {
				title: '检查人',
				content: 'key5'
			}, {
				title: '绑定时间',
				content: 'key6'
			}, {
				title: '签名',
				content: 'key7'
			}];
			var d0 = {
			      key1: '日常事务类/员工建议、信息收集',
			      key2: '荆门公司收集录入',
			      key3: '--',
			      key4: '丽娜',
			      key5: '熊攀峰',
			      key6: '2017-10-27 17:08',
			      key7: '待签名'
			}
			var data = [d0, _.deepClone(d0), _.deepClone(d0), _.deepClone(d0), _.deepClone(d0), 
			            _.deepClone(d0), _.deepClone(d0), _.deepClone(d0), _.deepClone(d0),
			            _.deepClone(d0), _.deepClone(d0), _.deepClone(d0), _.deepClone(d0)];
			$('.table').table({
				columns: columns,
				data: getTableData(1),
				onCheck: function(data) {
					console.log(data);
				},
				onRowClick: function(data) {
					console.log(data);
				}
			});
			function getTableData(page) {
				function getPojo(page, index) {
					var d1 = _.deepClone(d0);
					d1.key4 = '丽娜' + (page * 15 + index + 1);
					d1.key5 = '熊攀峰' + (page * 15 + index + 1);
					return d1;
				}
				var result = [];
				for (var i = 0; i < 15; i += 1) {
					result.push(getPojo(page - 1, i));
				}
				return result;
			}
			$('.pagination').pagination({
				total: 750,
				onChange: function(current) {
					$('.table').table({
						action: 'updateData',
						data: getTableData(current)
					});
				}
			});		
		})();
	</script>
</body>
</html>